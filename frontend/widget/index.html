<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Prodesk Chatbot Widget - Development</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
      }
      
      .dev-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 60px 20px;
        color: white;
      }
      
      .card {
        background: white;
        color: #333;
        padding: 40px;
        border-radius: 12px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        margin-bottom: 30px;
      }
      
      .badge {
        display: inline-block;
        background: #667eea;
        color: white;
        padding: 5px 15px;
        border-radius: 20px;
        font-size: 14px;
        font-weight: 600;
        margin-bottom: 20px;
      }
      
      h1 {
        margin: 0 0 20px 0;
        color: #667eea;
        font-size: 36px;
      }
      
      .instructions {
        background: #f8f9fa;
        border-left: 4px solid #667eea;
        padding: 20px;
        margin: 20px 0;
      }
      
      .instructions h3 {
        margin-top: 0;
        color: #667eea;
      }
      
      .code-block {
        background: #1e1e1e;
        color: #d4d4d4;
        padding: 20px;
        border-radius: 8px;
        overflow-x: auto;
        font-family: 'Courier New', monospace;
        font-size: 13px;
        margin: 15px 0;
      }
      
      .status {
        padding: 15px;
        border-radius: 8px;
        margin: 15px 0;
      }
      
      .status.success {
        background: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
      }
      
      .chatbot-indicator {
        position: fixed;
        bottom: 30px;
        left: 30px;
        background: white;
        padding: 15px 25px;
        border-radius: 10px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        font-weight: 600;
        color: #667eea;
        animation: pulse 2s infinite;
      }
      
      @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
      }
    </style>
  </head>
  <body>
    <div class="dev-container">
      <div class="card">
        <span class="badge">üöÄ DEVELOPMENT MODE</span>
        <h1>Prodesk Chatbot Widget</h1>
        <p style="font-size: 18px; color: #666; margin-bottom: 30px;">
          AI-powered customer support chatbot for your website
        </p>
        
        <div class="status success">
          ‚úÖ <strong>Widget is running!</strong> Check the bottom-right corner for the chatbot button.
        </div>

        <div class="instructions">
          <h3>üìã How to Use This Widget:</h3>
          <ol style="line-height: 1.8;">
            <li>Click the chatbot button in the <strong>bottom-right corner</strong></li>
            <li>Start chatting with the AI assistant</li>
            <li>Ask questions about Prodesk services</li>
            <li>Test the lead capture form (appears after 3 messages)</li>
          </ol>
        </div>

        <div class="instructions">
          <h3>üí° Sample Questions to Ask:</h3>
          <ul style="line-height: 1.8;">
            <li>"What services does Prodesk offer?"</li>
            <li>"How many employees work at Prodesk?"</li>
            <li>"Where is Prodesk located?"</li>
            <li>"Tell me about your team"</li>
            <li>"What technologies do you use?"</li>
          </ul>
        </div>

        <div class="instructions">
          <h3>üîß Integration Code:</h3>
          <p>To embed this chatbot on your website, add this code before closing <code>&lt;/body&gt;</code> tag:</p>
          
          <div class="code-block">
&lt;!-- Prodesk Chatbot Widget --&gt;
&lt;script src="http://localhost:5174/dist/widget.iife.js"&gt;&lt;/script&gt;
&lt;script&gt;
  window.PRODESK_API_URL = 'http://localhost:8000';
  window.ProdeskChatbot.init({
    apiKey: 'pk_gBgx7_PM14e48UNFGCTXDC9_1etkpllFOge3QTxNOFU',
    theme: {
      primaryColor: '#0066cc',
      position: 'bottom-right',
      welcomeMessage: 'Hello! How can I help you?'
    }
  });
&lt;/script&gt;
          </div>
        </div>

        <div class="instructions">
          <h3>‚öôÔ∏è Configuration Options:</h3>
          <ul style="line-height: 1.8;">
            <li><strong>apiKey:</strong> Your unique API key from dashboard</li>
            <li><strong>primaryColor:</strong> Brand color (hex code)</li>
            <li><strong>position:</strong> 'bottom-right' or 'bottom-left'</li>
            <li><strong>welcomeMessage:</strong> First message shown to user</li>
          </ul>
        </div>

        <div class="instructions">
          <h3>üõ†Ô∏è Development Servers:</h3>
          <ul style="line-height: 1.8;">
            <li>‚úÖ Widget Dev: <code>http://localhost:5174</code></li>
            <li>‚úÖ Backend API: <code>http://localhost:8000</code></li>
            <li>‚úÖ Dashboard: <code>http://localhost:5173</code></li>
          </ul>
        </div>

        <div class="instructions">
          <h3>üîë Your API Key:</h3>
          <div style="background: #e7f3ff; padding: 15px; border-radius: 8px; border-left: 4px solid #2196f3;">
            ode style="font-size: 14pxpx; color: #1976d2;">pk_gBgx7_PM14e48UNFGCTXDC9_1etkpllFOge3QTxNOFU</code>
            <p style="margin: 10px 0 0 0; font-size: 13px; color: #555;">
              ‚úÖ This API key is already configured in the widget below
            </p>
          </div>
        </div>
      </div>
    </div>

    <div class="chatbot-indicator">
      üëâ Chatbot Widget Active ‚Üí
    </div>

    <!-- Widget Entry Point -->
    <script type="module" src="/src/widget.jsx"></script>
    
    <!-- Auto-initialize widget in dev mode -->
    <script type="module">
      // Wait for widget to load
      window.addEventListener('load', () => {
        setTimeout(() => {
          if (window.ProdeskChatbot) {
            // Set API URL
            window.PRODESK_API_URL = 'http://localhost:8000';
            
            // Initialize widget with YOUR REAL API KEY
            window.ProdeskChatbot.init({
              apiKey: 'pk_gBgx7_PM14e48UNFGCTXDC9_1etkpllFOge3QTxNOFU',
              theme: {
                primaryColor: '#667eea',
                position: 'bottom-right',
                welcomeMessage: 'Hello! I\'m your AI assistant. How can I help you today? üòä'
              }
            });
            
            console.log('‚úÖ Prodesk Chatbot initialized successfully!');
            console.log('üîë Using API Key: pk_gBgx7_PM14e48UNFGCTXDC9_1etkpllFOge3QTxNOFU');
            console.log('üåê Backend URL: http://localhost:8000');
            console.log('üí¨ Ready to chat!');
          } else {
            console.error('‚ùå ProdeskChatbot not found on window object');
            console.error('‚ö†Ô∏è  Make sure widget.jsx is loaded correctly');
          }
        }, 1000);
      });
    </script>
  </body>
</html>
